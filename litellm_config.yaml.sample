# litellm_config.yaml.sample
# LiteLLM設定のサンプルファイル
#
# 使用方法:
# 1. cp litellm_config.yaml.sample litellm_config.yaml
# 2. APIキーを環境変数またはこのファイルに設定

model_list:
  # Anthropic Models（最新版のみ）
  - model_name: claude-haiku-4-5
    litellm_params:
      model: anthropic/claude-haiku-4-5-20251001
      api_key: os.environ/ANTHROPIC_API_KEY

  - model_name: claude-sonnet-4-5
    litellm_params:
      model: anthropic/claude-sonnet-4-5-20250929
      api_key: os.environ/ANTHROPIC_API_KEY

# LiteLLM設定
litellm_settings:
  # ロギング
  set_verbose: true
  json_logs: true
  request_timeout: 600
  num_retries: 3

  # 認証
  master_key: os.environ/LITELLM_MASTER_KEY
  
  # データベース
  database_url: os.environ/DATABASE_URL
  store_model_in_db: true

  # ユーザー識別設定（重要！）
  use_custom_header_for_user_id: true
  custom_user_id_header: "X-LiteLLM-User-ID"
  
  use_custom_header_for_team_id: true
  custom_team_id_header: "X-LiteLLM-Team-ID"

  # カスタムヘッダー転送
  custom_headers:
    - "X-LiteLLM-User-ID"
    - "X-LiteLLM-User-Email"
    - "X-LiteLLM-End-User-ID"
    - "X-LiteLLM-Metadata"
    - "X-LiteLLM-Team-ID"

  # コスト追跡
  track_cost_per_user: true

  # 予算管理
  enable_budget_management: true
  budget_duration: "30d"

  # キャッシング
  cache: true
  cache_params:
    type: "redis"
    host: os.environ/REDIS_HOST
    port: os.environ/REDIS_PORT
    password: os.environ/REDIS_PASSWORD

# Langfuse連携
  success_callback: ["langfuse"]
  langfuse_public_key: os.environ/LANGFUSE_PUBLIC_KEY
  langfuse_secret_key: os.environ/LANGFUSE_SECRET_KEY
  langfuse_host: os.environ/LANGFUSE_HOST

# 一般設定
general_settings:
  store_model_in_db: true
  store_prompts_in_spend_logs: true
  public_routes: ["/health", "/metrics"]
  master_key: os.environ/LITELLM_MASTER_KEY

